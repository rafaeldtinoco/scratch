# fence_aws extras

fence_aws - Fence agent for AWS (Amazon Web Services)

fence_aws is an I/O Fencing agent for AWS (Amazon WebServices). It uses the boto3 library to connect to AWS.

boto3 can be configured with AWS CLI or by creating ~/.aws/credentials.
For instructions see: https://boto3.readthedocs.io/en/latest/guide/quickstart.html#configuration

Stonith options:
  port: Physical plug number on device, UUID or identification of machine
  region: Region.
  access_key: Access Key.
  secret_key: Secret Key.
  boto3_debug: Boto Lib debug
  quiet: Disable logging to stderr. Does not affect --verbose or --debug logging to
         syslog.
  verbose: Verbose mode
  debug: Write debug information to given file
  separator: Separator for CSV created by 'list' operation
  delay: Wait X seconds before fencing is started
  login_timeout: Wait X seconds for cmd prompt after login
  power_timeout: Test X seconds for status change after ON/OFF
  power_wait: Wait X seconds after issuing ON/OFF
  shell_timeout: Wait X seconds for cmd prompt after issuing command
  retry_on: Count of attempts to retry power on
  priority: The priority of the stonith resource. Devices are tried in order of
            highest priority to lowest.
  pcmk_host_map: A mapping of host names to ports numbers for devices that do not
                 support host names. Eg. node1:1;node2:2,3 would tell the cluster to
                 use port 1 for node1 and ports 2 and 3 for node2
  pcmk_host_list: A list of machines controlled by this device (Optional unless
                  pcmk_host_check=static-list).
  pcmk_host_check: How to determine which machines are controlled by the device.
                   Allowed values: dynamic-list (query the device), static-list
                   (check the pcmk_host_list attribute), none (assume every device
                   can fence every machine)
  pcmk_delay_max: Enable a random delay for stonith actions and specify the maximum
                  of random delay. This prevents double fencing when using slow
                  devices such as sbd. Use this to enable a random delay for stonith
                  actions. The overall delay is derived from this random delay value
                  adding a static delay so that the sum is kept below the maximum
                  delay.
  pcmk_delay_base: Enable a base delay for stonith actions and specify base delay
                   value. This prevents double fencing when different delays are
                   configured on the nodes. Use this to enable a static delay for
                   stonith actions. The overall delay is derived from a random delay
                   value adding this static delay so that the sum is kept below the
                   maximum delay.
  pcmk_action_limit: The maximum number of actions can be performed in parallel on
                     this device Pengine property concurrent-fencing=true needs to
                     be configured first. Then use this to specify the maximum
                     number of actions can be performed in parallel on this device.
                     -1 is unlimited.

Default operations:
  monitor: interval=60s

